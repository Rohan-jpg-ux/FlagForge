plugins {
  id 'java'
  id 'org.springframework.boot' version '3.3.2'
  id 'io.spring.dependency-management' version '1.1.5'
}

group = 'com.flagforge'
version = '0.1.0'

java {
  toolchain { languageVersion = JavaLanguageVersion.of(21) }
}

repositories { mavenCentral() }

ext {
  flywayVersion = '10.15.0' 
}

dependencies {
  implementation 'org.springframework.boot:spring-boot-starter-web'
  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
  implementation 'org.springframework.boot:spring-boot-starter-validation'

  
  implementation "org.flywaydb:flyway-core:${flywayVersion}"
  implementation "org.flywaydb:flyway-database-postgresql:${flywayVersion}"

  runtimeOnly 'org.postgresql:postgresql:42.7.3'

  testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

tasks.withType(Test) { useJUnitPlatform() }
bootJar { archiveBaseName = 'backend' }
